# 测试双机通讯发送数据的时间间隔

-   在测试的时候，应该开启接收方的自动应答ACK模式才能准确的知道对方收到数据没，从而收到ACK信号的时候，再结束计时，这样才是一个数据包来回传输的时间

## 如何开启ACK模式

[(28条消息) nRF24L01+启用自动应答ACK及自动重发的实战分享_setup_retr_学为所用的博客-CSDN博客](https://blog.csdn.net/yyykj/article/details/93711135)

1.   将**RX_MODE**和**TX_MODE**两个配置的通道0的自动应答打开

```c
NRF24L01_Write_Reg(NRF24L01_WRITE_REG+EN_AA,0x01);     //使能通道0的自动应答
```

2.   再去配置**config**寄存器设置使能2401的接收中断

```c
status_si2401=NRF24L01_Write_Reg(NRF24L01_WRITE_REG+CONFIG,0x0e);//后面的十六进制数就是配置的bit组成的
```

我们参考这个表可以知道发送端口配置为0x0e接收配置为0x0f

![img](https://img-blog.csdnimg.cn/20190626104616346.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3l5eWtq,size_16,color_FFFFFF,t_70)

以上操作结束完之后，我们可以在中断里面设置一个点灯，那么可以看到当发送一次数据的时候，LED会翻转

## 时间戳设置在哪

